{"ast":null,"code":"import _regeneratorRuntime from \"/Users/hamadoudiallo/Desktop/NewProject/Perso360tekblog/perso360/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/hamadoudiallo/Desktop/NewProject/Perso360tekblog/perso360/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/Users/hamadoudiallo/Desktop/NewProject/Perso360tekblog/perso360/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n// export const createProject = (project)=> ({\n// type: 'ADD_PROJECT',\n// project\n// })\nexport var createProject = function createProject(project) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch, getState, _ref) {\n        var getFirebase, getFirestore, firestore;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                getFirebase = _ref.getFirebase, getFirestore = _ref.getFirestore;\n                _context.prev = 1;\n                _context.next = 4;\n                return getFirestore();\n\n              case 4:\n                firestore = _context.sent;\n                _context.next = 7;\n                return firestore.collection('projects').add(_objectSpread({}, project, {\n                  authorFirstName: 'Ballo',\n                  authorLatsname: 'Yae',\n                  authorId: 12345,\n                  createAt: new Date()\n                }));\n\n              case 7:\n                dispatch({\n                  type: 'CREATE_PROJECT'\n                });\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](1);\n                dispatch({\n                  type: \"CREATE_PROJECT_ERROR\"\n                }, _context.t0);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 10]]);\n      }));\n\n      return function (_x, _x2, _x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["/Users/hamadoudiallo/Desktop/NewProject/Perso360tekblog/perso360/src/store/actions/projectAction.js"],"names":["createProject","project","dispatch","getState","getFirebase","getFirestore","firestore","collection","add","authorFirstName","authorLatsname","authorId","createAt","Date","type"],"mappings":";;;AAAA;AACA;AACA;AACA;AAEA,OAAO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAC3B,iBAAOC,QAAP,EAAiBC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4BC,gBAAAA,WAA5B,QAA4BA,WAA5B,EAAyCC,YAAzC,QAAyCA,YAAzC;AAAA;AAAA;AAAA,uBAE4BA,YAAY,EAFxC;;AAAA;AAEUC,gBAAAA,SAFV;AAAA;AAAA,uBAGUA,SAAS,CAACC,UAAV,CAAqB,UAArB,EAAiCC,GAAjC,mBACDP,OADC;AAEJQ,kBAAAA,eAAe,EAAE,OAFb;AAGJC,kBAAAA,cAAc,EAAE,KAHZ;AAIJC,kBAAAA,QAAQ,EAAE,KAJN;AAKJC,kBAAAA,QAAQ,EAAE,IAAIC,IAAJ;AALN,mBAHV;;AAAA;AAUIX,gBAAAA,QAAQ,CAAC;AAAEY,kBAAAA,IAAI,EAAE;AAAR,iBAAD,CAAR;AAVJ;AAAA;;AAAA;AAAA;AAAA;AAYIZ,gBAAAA,QAAQ,CAAC;AAAEY,kBAAAA,IAAI,EAAE;AAAR,iBAAD,cAAR;;AAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAD2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB","sourcesContent":["// export const createProject = (project)=> ({\n// type: 'ADD_PROJECT',\n// project\n// })\n\nexport const createProject = (project)=> \n  async (dispatch, getState, {getFirebase, getFirestore}) => {\n    try {\n      const firestore = await getFirestore();\n      await firestore.collection('projects').add({\n        ...project,\n        authorFirstName: 'Ballo',\n        authorLatsname: 'Yae',\n        authorId: 12345,\n        createAt: new Date()\n      })\n      dispatch({ type: 'CREATE_PROJECT' })\n    } catch (error) {\n      dispatch({ type: \"CREATE_PROJECT_ERROR\" }, error)\n    }\n  }\n\n"]},"metadata":{},"sourceType":"module"}